/* eslint no-console:0 */
var c = require('cotest')
var maxRankFac = require('../max-rank')

c('size = 2', function() {
	var maxRnk = maxRankFac(2, 0, 0)
	c('==', maxRnk(30, 0), 1)
	c('==', maxRnk(30, 1), 30)
	maxRnk = maxRankFac(2, 1, 1)
	c('==', maxRnk(30, 0), 1)
	c('==', maxRnk(30, 1), 30)
})

c('size = 3', function() {
	var maxRnk = maxRankFac(3, 0, 0)
	c('==', maxRnk(31, 0), 1)
	c('==', maxRnk(31, 1), 16)
	c('==', maxRnk(31, 2), 31)
	maxRnk = maxRankFac(3, 1, 1)
	c('==', maxRnk(30, 0), 1)
	c('==', maxRnk(30, 1), 29)
	c('==', maxRnk(30, 2), 30)
})

c('size = 4', function() {
	var maxRnk = maxRankFac(4, 0, 0)
	c('==', maxRnk(30, 0), 1)
	c('>', maxRnk(30, 1), 1)
	c('>', maxRnk(30, 2), maxRnk(30, 1))
	c('<', maxRnk(30, 2), 30)
	c('==', maxRnk(30, 3), 30)
	c('<', Math.abs(maxRnk(30, 1) - 31 + maxRnk(30, 2)), 1e-3)
	maxRnk = maxRankFac(4, 0, 1)
	c('==', maxRnk(30, 0), 1)
	c('>', maxRnk(30, 1), 1)
	c('<', maxRnk(30, 1), 29)
	c('==', maxRnk(30, 2), 29)
	c('==', maxRnk(30, 3), 30)
	c('==', maxRnk(30, 1)-1, 29-maxRnk(30, 1))
	maxRnk = maxRankFac(4, 1, 0)
	c('==', maxRnk(30, 0), 1)
	c('==', maxRnk(30, 1), 2)
	c('>', maxRnk(30, 2), maxRnk(30, 1))
	c('<', maxRnk(30, 2), 30)
	c('==', maxRnk(30, 3), 30)
	c('==', maxRnk(30, 2)-2, 30-maxRnk(30, 2))
})

c('size = 6', function() {
	var maxRnk = maxRankFac(6, 2, 1)
	c('==', maxRnk(33, 0), 1)
	c('==', maxRnk(33, 1), 2)
	c('==', maxRnk(33, 2), 3)
	c('<', maxRnk(33, 3), 32)
	c('==', maxRnk(33, 4), 32)
	c('==', maxRnk(33, 5), 33)
})
